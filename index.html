<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë§ˆìŠ¤í„°ì˜ ê°€ê³„ë¶€</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    table { border-collapse: collapse; width: 100%; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    select, input { margin: 5px; padding: 5px; }
  </style>
</head>
<body>
  <h1>ğŸ“’ ë§ˆìŠ¤í„°ì˜ ê°€ê³„ë¶€</h1>
  <form id="entryForm">
    <input type="date" id="date" required />
    <select id="mainCategory">
      <option value="ì†Œë¹„">ì†Œë¹„</option>
      <option value="íˆ¬ì">íˆ¬ì</option>
      <option value="ìˆ˜ì…">ìˆ˜ì…</option>
    </select>
    <select id="subCategory"></select>
    <input type="number" id="amount" placeholder="ê¸ˆì•¡" required />
    <input type="text" id="note" placeholder="ë©”ëª¨" />
    <button type="submit">ì¶”ê°€</button>
  </form>

  <h2>ğŸ“‹ ëª©ë¡</h2>
  <table>
    <thead>
      <tr><th>ë‚ ì§œ</th><th>í•­ëª©</th><th>í•˜ìœ„í•­ëª©</th><th>ê¸ˆì•¡</th><th>ë©”ëª¨</th></tr>
    </thead>
    <tbody id="dataTable"></tbody>
  </table>

  <script>
    const subCategories = {
      'ì†Œë¹„': ['ì‹ë¹„', 'êµí†µë¹„', 'ê³ ì •ì§€ì¶œ', 'ê³µê³¼ê¸ˆ', 'ê±°ì£¼ë¹„ìš©', 'ë¬¸í™”ë¹„', 'ìê¸°ê°œë°œë¹„', 'ê¸°íƒ€(ì†Œë¹„)'],
      'íˆ¬ì': ['ì ê¸ˆ', 'ë³´í—˜', 'ì£¼ì‹', 'ê°€ìƒí™”í', 'ìˆ˜ì§‘í’ˆ', 'ê¸°íƒ€(íˆ¬ì)'],
      'ìˆ˜ì…': ['ì›”ê¸‰', 'ì´ììˆ˜ì…', 'ë°°ë‹¹ìˆ˜ì…', 'ê¸°íƒ€ìˆ˜ì…']
    };

    const mainSelect = document.getElementById('mainCategory');
    const subSelect = document.getElementById('subCategory');
    const tableBody = document.getElementById('dataTable');
    const form = document.getElementById('entryForm');

    function updateSubCategories() {
      const selected = mainSelect.value;
      subSelect.innerHTML = '';
      subCategories[selected].forEach(item => {
        const opt = document.createElement('option');
        opt.value = item;
        opt.textContent = item;
        subSelect.appendChild(opt);
      });
    }

    mainSelect.addEventListener('change', updateSubCategories);
    window.onload = updateSubCategories;

    form.addEventListener('submit', e => {
      e.preventDefault();
      const date = document.getElementById('date').value;
      const main = mainSelect.value;
      const sub = subSelect.value;
      const amount = document.getElementById('amount').value;
      const note = document.getElementById('note').value;

      const row = document.createElement('tr');
      [date, main, sub, amount, note].forEach(val => {
        const cell = document.createElement('td');
        cell.textContent = val;
        row.appendChild(cell);
      });
      tableBody.appendChild(row);

      form.reset();
      updateSubCategories();
    });
  </script>
</body>
</html>
